function addDot(){dots.length<config.numDots&&dots.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,vx:0,vy:0,radius:Math.random()*(config.dotMaxRadius-config.dotMinRadius)+config.dotMinRadius,transparency:0})}function animate(){window.requestAnimationFrame(animate),ctx.clearRect(0,0,canvas.width,canvas.height);const n=config.mouseRepellRadius*config.mouseRepellRadius;dots=dots.filter(t=>{if(mouse.moved){const e=t.x-mouse.x,a=t.y-mouse.y,o=e*e+a*a;if(o<n){const n=Math.sqrt(o),i=config.mouseRepellForce*(1-n/config.mouseRepellRadius);t.vx+=e/n*i,t.vy+=a/n*i;const c=t.vx*t.vx+t.vy*t.vy;if(c>config.dotMaxSpeed*config.dotMaxSpeed){const n=Math.sqrt(c);t.vx=t.vx/n*config.dotMaxSpeed,t.vy=t.vy/n*config.dotMaxSpeed}}}t.vx*=config.dampingFactor,t.vy*=config.dampingFactor,t.x+=t.vx,t.y+=t.vy,t.x<0&&(t.x=canvas.width),t.x>canvas.width&&(t.x=0),t.y<0&&(t.y=canvas.height),t.y>canvas.height&&(t.y=0);let e=rects.some(n=>t.x>n.left&&t.x<n.right&&t.y>n.top&&t.y<n.bottom);return e||(ctx.beginPath(),ctx.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),ctx.fillStyle=`rgba(255, 255, 255, ${t.transparency})`,ctx.fill()),t.transparency<config.minTransparency?t.transparency+=.01:(t.transparency+=2*Math.random()*config.transparencyChange-config.transparencyChange,t.transparency=Math.min(Math.max(t.transparency,config.minTransparency),config.maxTransparency)),!e&&t.x>=0&&t.x<=canvas.width&&t.y>=0&&t.y<=canvas.height}),mouse.moved=!1}const canvas=document.getElementById("background"),ctx=canvas.getContext("2d"),config={enableDotsAnimation:!0,numDots:Math.round(canvas.width*canvas.height/500),dotMinRadius:1,dotMaxRadius:2,dotMaxSpeed:1,mouseRepellRadius:100,mouseRepellForce:.05,minTransparency:.7,maxTransparency:1,transparencyChange:.05,dampingFactor:.99,dotInterval:5e3};let dots=[],mouse={x:0,y:0,moved:!1};const elements=document.body.getElementsByTagName("*");let rects=Array.from(elements,n=>{if(0!==n.offsetWidth&&0!==n.offsetHeight&&""!==n.innerText.trim())return n.getBoundingClientRect()}).filter(Boolean);window.onload=(()=>{canvas.width=document.body.scrollWidth,canvas.height=document.body.scrollHeight,config.enableDotsAnimation&&(addDot(),setInterval(addDot,config.dotInterval)),window.addEventListener("resize",()=>{canvas.width=document.body.scrollWidth,canvas.height=document.body.scrollHeight}),animate()}),window.onmousemove=(n=>{mouse.x=n.clientX,mouse.y=n.clientY,mouse.moved=!0});