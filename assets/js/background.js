function addDot(){dots.length<config.numDots&&dots.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,vx:0,vy:0,radius:Math.random()*(config.dotMaxRadius-config.dotMinRadius)+config.dotMinRadius,transparency:0})}function animate(){window.requestAnimationFrame(animate),ctx.clearRect(0,0,canvas.width,canvas.height);const n=config.mouseRepellRadius*config.mouseRepellRadius;dots=dots.filter(e=>{if(mouse.moved){const t=e.x-mouse.x,a=e.y-mouse.y,o=t*t+a*a;if(o<n){const n=Math.sqrt(o),i=config.mouseRepellForce*(1-n/config.mouseRepellRadius);e.vx+=t/n*i,e.vy+=a/n*i;const c=e.vx*e.vx+e.vy*e.vy;if(c>config.dotMaxSpeed*config.dotMaxSpeed){const n=Math.sqrt(c);e.vx=e.vx/n*config.dotMaxSpeed,e.vy=e.vy/n*config.dotMaxSpeed}}}e.vx*=config.dampingFactor,e.vy*=config.dampingFactor,e.x+=e.vx,e.y+=e.vy,e.x<0&&(e.x=canvas.width),e.x>canvas.width&&(e.x=0),e.y<0&&(e.y=canvas.height),e.y>canvas.height&&(e.y=0);let t=rects.some(n=>e.x>n.left&&e.x<n.right&&e.y>n.top&&e.y<n.bottom);return t||(ctx.beginPath(),ctx.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),ctx.fillStyle=`rgba(255, 255, 255, ${e.transparency})`,ctx.fill()),e.transparency<config.minTransparency?e.transparency+=.01:(e.transparency+=2*Math.random()*config.transparencyChange-config.transparencyChange,e.transparency=Math.min(Math.max(e.transparency,config.minTransparency),config.maxTransparency)),!t&&e.x>=0&&e.x<=canvas.width&&e.y>=0&&e.y<=canvas.height}),mouse.moved=!1}const canvas=document.getElementById("background"),ctx=canvas.getContext("2d"),config={enableDotsAnimation:!0,numDots:Math.round(canvas.width*canvas.height/500),dotMinRadius:1,dotMaxRadius:2,dotMaxSpeed:1,mouseRepellRadius:100,mouseRepellForce:.05,minTransparency:.7,maxTransparency:1,transparencyChange:.05,dampingFactor:.99,dotInterval:5e3};let dots=[],mouse={x:0,y:0,moved:!1};const elements=document.body.getElementsByTagName("*");let rects=Array.from(elements,n=>{if(0!==n.offsetWidth&&0!==n.offsetHeight&&n.innerText&&""!==n.innerText.trim())return n.getBoundingClientRect()}).filter(Boolean);window.onload=(()=>{canvas.width=document.body.scrollWidth,canvas.height=document.body.scrollHeight,config.enableDotsAnimation&&(addDot(),setInterval(addDot,config.dotInterval)),window.addEventListener("resize",()=>{canvas.width=document.body.scrollWidth,canvas.height=document.body.scrollHeight}),animate()}),window.onmousemove=(n=>{mouse.x=n.clientX,mouse.y=n.clientY,mouse.moved=!0});